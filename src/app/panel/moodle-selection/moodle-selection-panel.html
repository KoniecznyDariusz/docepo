<div class="h-screen flex flex-col bg-gray-900 text-white">
  <main class="flex-1 flex flex-col items-center justify-center gap-8 px-6">
    <div class="text-center">
      <h1 class="text-4xl font-bold mb-2">DocEpo</h1>
      <p class="text-gray-400">Wybierz adres platformy Moodle</p>
    </div>

    <div class="w-full max-w-md">
      <div class="mb-4">
        <label for="moodleEndpoint" class="block text-sm font-medium mb-2">
          Wybierz z zapisanej listy
        </label>
        <select
          id="moodleEndpoint"
          [(ngModel)]="endpointSelection"
          (ngModelChange)="onEndpointSelected($event)"
          class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500"
          [disabled]="isLoading"
        >
          <option value="" class="text-gray-500">-- wybierz adres --</option>
          @for (endpoint of moodleEndpoints; track endpoint.url) {
            <option [value]="endpoint.url">{{ endpoint.name }} ({{ endpoint.url }})</option>
          }
        </select>
      </div>

      <div class="mb-4">
        <label for="moodleUrl" class="block text-sm font-medium mb-2">
          Adres platformy Moodle
        </label>
        <input
          id="moodleUrl"
          type="text"
          [(ngModel)]="moodleUrl"
          placeholder="np. https://moodle.example.com"
          class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"
          [disabled]="isLoading"
        />
      </div>

      <div *ngIf="errorMessage" class="mb-4 p-3 bg-red-900 border border-red-700 rounded-lg text-red-200 text-sm">
        {{ errorMessage }}
      </div>

      <button
        (click)="onSubmit()"
        [disabled]="isLoading"
        class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white font-medium rounded-lg transition-colors"
      >
        {{ isLoading ? 'Zapisywanie...' : 'Dalej' }}
      </button>
    </div>
  </main>

  <app-footer></app-footer>
</div>
